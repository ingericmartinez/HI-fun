<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memorama AWS Extremo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --card-size: clamp(20px, 4.5vmin, 50px);
            --gap-size: clamp(2px, 0.5vmin, 5px);
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background-color: #111827;
            background-image:
                radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(34, 197, 94, 0.1) 0%, transparent 50%);
            overflow: hidden;
            color: #f3f4f6;
        }

        /* --- Estilos del tablero --- */
        .game-board {
            display: grid;
            grid-template-columns: repeat(20, var(--card-size));
            grid-template-rows: repeat(20, var(--card-size));
            gap: var(--gap-size);
            perspective: 1200px;
        }

        .card {
            width: var(--card-size);
            height: var(--card-size);
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            cursor: pointer;
        }
        
        .card.flipped, .card.matched {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .card-front {
            background: linear-gradient(135deg, #1f2937, #374151);
            border: 1px solid #4b5563;
        }

        .card-front::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            background: conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,0.1), transparent, rgba(255,255,255,0.1), transparent);
            animation: rotate-glow 5s linear infinite;
        }
        
        @keyframes rotate-glow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .card-back {
            background-color: #f3f4f6;
            transform: rotateY(180deg);
            padding: 5%;
            border: 1px solid #9ca3af;
        }
        
        .card-back svg {
            width: 90%;
            height: 90%;
        }

        /* --- Efectos Visuales --- */
        .card.matched .card-back {
            animation: match-glow 0.8s ease-in-out;
            box-shadow: 0 0 15px 3px #22c55e, 0 0 5px 1px #a7f3d0;
        }

        @keyframes match-glow {
            0%, 100% { box-shadow: 0 0 15px 3px #22c55e, 0 0 5px 1px #a7f3d0; }
            50% { box-shadow: 0 0 25px 8px #22c55e, 0 0 10px 3px #a7f3d0; }
        }

        .card.mismatch {
            animation: mismatch-shake 0.4s ease-in-out;
        }

        @keyframes mismatch-shake {
            0%, 100% { transform: translateX(0) rotateY(180deg); }
            20%, 60% { transform: translateX(-5px) rotateY(180deg); }
            40%, 80% { transform: translateX(5px) rotateY(180deg); }
        }
        
        /* --- UI y Modal --- */
        .ui-panel, .modal-content {
            background-color: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid #4b5563;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        .text-glow {
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5), 0 0 10px rgba(59, 130, 246, 0.5);
        }
        
        .btn-primary {
            background: linear-gradient(to right, #3b82f6, #1d4ed8);
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.7);
        }
        
        .modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
    </style>
</head>
<body class="w-screen h-screen flex flex-col items-center justify-center p-4">

    <!-- Pantalla de Inicio -->
    <div id="start-screen" class="absolute inset-0 z-30 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm">
        <div class="ui-panel p-8 text-center space-y-6">
            <h1 class="text-5xl font-bold text-glow">Memorama AWS Extremo</h1>
            <p class="text-gray-300 max-w-md">Pon a prueba tu memoria con 200 pares de servicios de AWS. <br>¡Prepárate para el desafío definitivo!</p>
            <button id="start-button" class="btn-primary text-white font-bold py-3 px-8 rounded-lg text-2xl">
                Iniciar Juego
            </button>
        </div>
    </div>
    
    <!-- UI del Juego -->
    <div class="w-full flex justify-between items-center mb-4 px-8">
         <h1 class="text-3xl font-bold text-glow">Memorama AWS</h1>
         <div class="flex items-center space-x-8 ui-panel px-6 py-3">
            <div class="text-center">
                <span class="text-xs text-gray-400">MOVIMIENTOS</span>
                <p id="moves" class="text-2xl font-bold">0</p>
            </div>
             <div class="text-center">
                <span class="text-xs text-gray-400">TIEMPO</span>
                <p id="timer" class="text-2xl font-bold">00:00</p>
            </div>
         </div>
    </div>

    <!-- Tablero de Juego -->
    <main id="game-container" class="flex-grow flex items-center justify-center">
        <div id="game-board" class="game-board"></div>
    </main>

    <!-- Modal de Victoria -->
    <div id="win-modal" class="modal fixed inset-0 z-20 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm invisible opacity-0">
        <div class="modal-content p-8 text-center transform scale-95 transition-transform duration-300">
            <h2 class="text-5xl font-bold text-glow text-green-400 mb-4">¡VICTORIA!</h2>
            <p class="text-xl mb-6">¡Has completado el desafío AWS Extremo!</p>
            <div class="flex justify-center space-x-6 text-lg">
                <p>Movimientos Finales: <span id="final-moves" class="font-bold text-blue-400"></span></p>
                <p>Tiempo Final: <span id="final-time" class="font-bold text-blue-400"></span></p>
            </div>
            <button id="play-again-button" class="btn-primary text-white font-bold py-3 px-8 rounded-lg text-xl mt-8">
                Jugar de Nuevo
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Elementos del DOM ---
            const gameBoard = document.getElementById('game-board');
            const movesElement = document.getElementById('moves');
            const timerElement = document.getElementById('timer');
            const startScreen = document.getElementById('start-screen');
            const startButton = document.getElementById('start-button');
            const winModal = document.getElementById('win-modal');
            const playAgainButton = document.getElementById('play-again-button');

            // --- Configuración del Juego ---
            const GRID_SIZE = 20;
            const TOTAL_CARDS = GRID_SIZE * GRID_SIZE;
            const TOTAL_PAIRS = TOTAL_CARDS / 2;
            
            // --- Estado del Juego ---
            let cards = [];
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;
            let timerInterval;
            let seconds = 0;
            let gameLocked = true;

            // --- Efectos de Sonido ---
            const sounds = {
                flip: new Tone.Synth({ oscillator: { type: "sine" }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.3, release: 1 } }).toDestination(),
                match: new Tone.Synth({ oscillator: { type: "triangle" }, envelope: { attack: 0.05, decay: 0.2, sustain: 0.5, release: 0.8 } }).toDestination(),
                win: new Tone.Synth({ oscillator: { type: "sawtooth" }, envelope: { attack: 0.1, decay: 0.5, sustain: 0.7, release: 1 } }).toDestination(),
                start: new Tone.Synth({ oscillator: { type: "square" }, envelope: { attack: 0.01, decay: 0.2, sustain: 0.2, release: 0.2 } }).toDestination(),
            };
            sounds.flip.volume.value = -10;
            sounds.match.volume.value = -8;
            sounds.win.volume.value = -6;
            sounds.start.volume.value = -8;
            
            // --- Iconos de AWS (50 únicos, se repetirán 4 veces) ---
            const awsIcons = [
                { name: 'EC2', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M208,88H48a8,8,0,0,0-8,8V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V96A8,8,0,0,0,208,88ZM88,128v40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="120" y1="128" x2="120" y2="168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,96V56a8,8,0,0,1,8-8H168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M88,48V32a8,8,0,0,1,8-8H208a8,8,0,0,1,8,8V168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="168" y1="128" x2="152" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="168" y1="152" x2="152" y2="152" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'S3', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M88,134.4,32,160V96l56-25.6Z" opacity="0.2"/><path d="M88,134.4,144,160l56-25.6V64l-56,25.6Z" opacity="0.2"/><path d="M32,96l56-25.6,56,25.6" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,96v64l56,25.6,56-25.6V96L88,70.4Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M144,96l56-32v96l-56,32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="88" y1="222.4" x2="88" y2="134.4" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Lambda', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M32,184,80,32h33.09a8,8,0,0,1,6.4,12.8L83.2,96" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="200" y1="88" x2="139.75" y2="208" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M92,168l-32,40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="224" y1="32" x2="168" y2="136" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="168" y1="136" x2="130.63" y2="202.63" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="112" y1="32" x2="92" y2="168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'RDS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><ellipse cx="128" cy="80" rx="88" ry="48" opacity="0.2"/><ellipse cx="128" cy="80" rx="88" ry="48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,80v96c0,26.51,39.4,48,88,48s88-21.49,88-48V80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,128c0,26.51,39.4,48,88,48s88-21.49,88-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'VPC', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M224,144v56a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h56" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,112V48h64v64Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,112H96v64H32Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M160,208V176h48v32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="96" y1="80" x2="128" y2="80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="160" y1="144" x2="160" y2="176" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="96" y1="144" x2="128" y2="144" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'IAM', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="32" y="72" width="192" height="128" rx="8" opacity="0.2"/><rect x="32" y="72" width="192" height="128" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M168,72V56a24,24,0,0,0-24-24H112a24,24,0,0,0-24,24V72" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="128" cy="136" r="24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Route53', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M168,88,88,168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M168,168,88,88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M101.4,128a39.6,39.6,0,0,1,53.2,0" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M64,90.5a87.82,87.82,0,0,1,128,0" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M64,165.5a87.82,87.82,0,0,0,128,0" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CloudFront', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,128c44.18,0,80-35.82,80-80S172.18,48,128,48,48,83.82,48,128" opacity="0.2"/><path d="M128,128c-44.18,0-80,35.82-80,80s35.82,0,80,0,80-35.82,80-80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128c44.18,0,80-35.82,80-80S172.18,48,128,48,48,83.82,48,128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'DynamoDB', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,32,40,80v96l88,48,88-48V80Z" opacity="0.2"/><path d="M128,32,40,80v96l88,48,88-48V80Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="40 80 128 128 216 80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="224" x2="128" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M104,138.7l-44-24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M152,138.7l44-24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M104,186.7l-44-24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M152,186.7l44-24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Beanstalk', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M176,144l-48,48-48-48,48-48Z" opacity="0.2"/><path d="M168,88H208a8,8,0,0,1,8,8v40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M88,168V208a8,8,0,0,0,8,8h40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M168,168h40a8,8,0,0,0,8-8V120" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M88,88V48a8,8,0,0,1,8-8h40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,32v64l-48,48,48,48v48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M176,144l-48,48-48-48,48-48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                // ... (Adding more unique icons would make this file enormous)
                // To keep the example concise, I'm adding a few more.
                // In the full implementation, there are 50 unique icons.
                { name: 'ECS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="40" y="40" width="176" height="176" rx="8" opacity="0.2"/><rect x="40" y="40" width="176" height="176" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="88" y="88" width="80" height="80" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'EKS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M40,112l88,48,88-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,112,128,16,216,112l-88,48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="160" x2="128" y2="240" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M88,184l-48,24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M168,184l48,24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CloudFormation', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,144,40,96,128,48l88,48Z" opacity="0.2"/><path d="M40,96l88,48,88-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,96,128,48l88,48L128,144Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,128v56l48,24,48-24V128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CloudWatch', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="128" cy="128" r="96" opacity="0.2"/><circle cx="128" cy="128" r="96" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><path d="M128,128,96,80l-24,8,32,40-32,40,24,8Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128l32,48,24-8-32-40,32-40-24-8Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'SNS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M164,128,92,80v96Z" opacity="0.2"/><path d="M224,144v16a8,8,0,0,1-8,8H184" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,112V96a8,8,0,0,1,8-8H72" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M184,88h32a8,8,0,0,1,8,8v16" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M72,168H40a8,8,0,0,1-8-8V144" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M92,80h72v96H92l72-48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'SQS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M160,128,104,96v64Z" opacity="0.2"/><path d="M216,88v80a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V88a8,8,0,0,1,8-8H208A8,8,0,0,1,216,88Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M104,96h56v64H104l56-32Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'APIGateway', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M40,144h88v48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="88" y1="96" x2="88" y2="144" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M216,64H128V32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="176" y1="64" x2="176" y2="112" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="40" y="48" width="96" height="48" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="128" y="112" width="96" height="48" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="40" y="192" width="96" height="48" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Aurora', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><ellipse cx="128" cy="80" rx="88" ry="48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,80v96c0,26.51,39.4,48,88,48s88-21.49,88-48V80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,128c0,26.51,39.4,48,88,48s88-21.49,88-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128,88,80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128l40-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Redshift', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,32,40,80v96l88,48,88-48V80Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M176,104,80,152" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M176,152,80,104" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,32V224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'ElastiCache', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M40,136H216V64H40a8,8,0,0,0-8,8v56A8,8,0,0,0,40,136Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="32" y1="176" x2="224" y2="176" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="88 176 104 208 152 208 168 176" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,96,104,80l-24,32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Glacier', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M216,144,128,232,40,144l40-40,48,48,48-48Z" opacity="0.2"/><path d="M128,24,40,144,128,232,216,144,176,104l-48,48-48-48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Fargate', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="40" y="40" width="176" height="176" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="88" y="88" width="80" height="80" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="40" x2="128" y2="216" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="40" y1="128" x2="216" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Amplify', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M32,176,96,32l64,112H96Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M150.15,192,160,176h64L160,32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="96" y1="144" x2="32" y2="144" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Cognito', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,120a40,40,0,1,0-40-40A40,40,0,0,0,128,120Z" opacity="0.2"/><circle cx="128" cy="120" r="40" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><path d="M208,120a80,80,0,0,1-160,0Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M52,208a80,80,0,0,1,152,0Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'SageMaker', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,128a64,64,0,1,0-64-64A64,64,0,0,0,128,128Z" opacity="0.2"/><circle cx="128" cy="128" r="64" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><path d="M192,128a64,64,0,0,1-64,64" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M64,128A64,64,0,0,1,128,64" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="224" x2="128" y2="192" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="64" x2="128" y2="32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="224" y1="128" x2="192" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="64" y1="128" x2="32" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                // These are just 25 unique items. To reach 50, repeat or add more.
                // For this example, these 25 will be repeated 8 times to fill the 20x20 grid.
                // Let's create more for variety.
                { name: 'CodeCommit', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M184,184,224,128,184,72" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M72,72,32,128l40,56" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="160" y1="40" x2="96" y2="216" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CodeBuild', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M215.3,64.2,136,24.1a8,8,0,0,0-7.9,0L48.7,64.2a8,8,0,0,0-4.7,7V184.8a8,8,0,0,0,4.7,7l80.1,40.1a8.1,8.1,0,0,0,7.9,0l80.1-40.1a8,8,0,0,0,4.7-7V71.2A8,8,0,0,0,215.3,64.2Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="46 71 128 112 210 71" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="232" x2="128" y2="112" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CodeDeploy', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="128" cy="128" r="48" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><path d="M176,56.7,153.1,88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,56.7,102.9,88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,32V80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M176,199.3,153.1,168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,199.3,102.9,168" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,224V176" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M200,96.7,169,104" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M56,96.7,87,104" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M224,128H176" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,128H80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M200,159.3,169,152" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M56,159.3,87,152" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CodePipeline', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="64" cy="128" r="32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="192" cy="64" r="32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="192" cy="192" r="32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="93.8" y1="114.2" x2="162.2" y2="77.8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="93.8" y1="141.8" x2="162.2" y2="178.2" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'CloudTrail', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M216,152,128,32,40,152h48v48l40,40,40-40v-48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                // Let's add 20 more to make a set of 50
                { name: 'EBS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><ellipse cx="128" cy="80" rx="88" ry="48"/><path d="M40,80v96c0,26.5,39.4,48,88,48s88-21.5,88-48V80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="40" y1="80" x2="216" y2="80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'EFS', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M216,72H40a8,8,0,0,0-8,8V176a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V80A8,8,0,0,0,216,72Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="72" y1="32" x2="72" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'AppSync', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,24,40,72v112l88,48,88-48V72Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M40,72l88,48,88-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,232V120" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="128" cy="120" r="24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Athena', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><line x1="128" y1="32" x2="128" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M208,224h-48a80,80,0,0,0-80-80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M48,32h48a80,80,0,0,1,80,80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Cloud9', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M184,184H48a8,8,0,0,1-8-8V64a8,8,0,0,1,8-8H184l32,32V176A8,8,0,0,1,208,184Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="216 88 184 88 184 56" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="96 112 80 128 96 144" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="120" y1="152" x2="144" y2="104" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Comprehend', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="108" cy="108" r="60" opacity="0.2"/><circle cx="148" cy="148" r="60" opacity="0.2"/><circle cx="108" cy="108" r="60" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="148" cy="148" r="60" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Connect', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,176H32V80H224v96h-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,176a48,48,0,0,0-48-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,176a48,48,0,0,1,48-48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'DocumentDB', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M48,168V48H168l40,40v80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="168 48 168 88 208 88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="32" y="168" width="128" height="48" rx="8" stroke-width="16" stroke="#000" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>' },
                { name: 'GuardDuty', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M48,104,128,32l80,72V224H48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Kendra', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M32,128c0-53,43-96,96-96s96,43,96,96-43,96-96,96" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="32" x2="128" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="128" cy="128" r="32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Kinesis', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M32,80H224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,128H224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,176H224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,48l-48,32,48,32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,144l48-32-48-32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Lex', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M40,176V88a23.9,23.9,0,0,1,24-24H200" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M200,88v24a24,24,0,0,1-24,24H72" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M72,136v40a24,24,0,0,0,24,24H216" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Lightsail', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,224h0a96,96,0,0,1-96-96V80a96,96,0,0,1,192,0v48A96,96,0,0,1,128,224Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="224" x2="128" y2="80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'MQ', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><rect x="32" y="48" width="192" height="160" rx="8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M32,80H224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,112h32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,144h64" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M80,176h32" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Neptune', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M168,224l-32-48-32,48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M136,176H24a8,8,0,0,0-5.7,13.7l96,96a8,8,0,0,0,11.3,0l96-96A8,8,0,0,0,216,176H120" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="32" y1="120" x2="224" y2="120" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Polly', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,48a32,32,0,0,0-32,32v64a32,32,0,0,0,64,0V80A32,32,0,0,0,128,48Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M200,128a72,72,0,0,1-144,0" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="208" x2="128" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="96" y1="224" x2="160" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Rekognition', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="128" cy="128" r="96" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><circle cx="128" cy="128" r="32" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="16"/><line x1="128" y1="32" x2="128" y2="64" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="128" y1="192" x2="128" y2="224" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="224" y1="128" x2="192" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="64" y1="128" x2="32" y2="128" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'SecretsManager', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M128,56,40,96v64l88,40,88-40V96Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128l88-40" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128V200" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M128,128,40,88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="128" cy="48" r="24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'Shield', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path d="M48,104,128,32l80,72V224s0,0-80-32-80,32-80,32Z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/></svg>' },
                { name: 'StepFunctions', icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><circle cx="64" cy="64" r="24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><circle cx="64" cy="192" r="24" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M64,88v80" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M104,192H88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><path d="M104,64H88" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><rect x="136" y="104" width="88" height="48" rx="8" stroke-width="16" stroke="#000" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>' },
            ];

            // --- Funciones del Juego ---

            function createIconSet() {
                // To fill the 20x20 grid, we need 200 pairs. We'll repeat our 50 unique icons 4 times.
                let fullIconSet = [];
                for (let i = 0; i < 4; i++) {
                    fullIconSet = fullIconSet.concat(awsIcons);
                }
                return fullIconSet;
            }

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function createBoard() {
                const gameIcons = createIconSet();
                const cardData = [...gameIcons, ...gameIcons];
                shuffle(cardData);
                
                gameBoard.innerHTML = ''; // Limpiar tablero
                cardData.forEach(item => {
                    const card = document.createElement('div');
                    card.classList.add('card');
                    card.dataset.name = item.name;
                    
                    card.innerHTML = `
                        <div class="card-face card-front"></div>
                        <div class="card-face card-back">${item.icon}</div>
                    `;
                    gameBoard.appendChild(card);
                });
                cards = document.querySelectorAll('.card');
            }
            
            function startGame() {
                Tone.start();
                sounds.start.triggerAttackRelease("C4", "8n");
                startScreen.style.opacity = '0';
                startScreen.style.visibility = 'hidden';
                gameLocked = false;
                resetGame();
            }

            function resetGame() {
                gameLocked = false;
                flippedCards = [];
                matchedPairs = 0;
                moves = 0;
                seconds = 0;
                updateMoves();
                // Corregido: Limpiar el intervalo anterior para evitar que el temporizador se acelere.
                clearInterval(timerInterval);
                startTimer();
                createBoard();
                
                winModal.classList.add('invisible', 'opacity-0');
                winModal.querySelector('.modal-content').classList.add('scale-95');

                // Corregido: Se eliminó el bucle forEach que añadía listeners de forma redundante.
                // El listener principal en 'gameBoard' manejará todos los clics de manera más eficiente.
            }
            
            function handleCardClick(e) {
                if (gameLocked) return;
                const clickedCard = e.currentTarget;
                if (clickedCard.classList.contains('flipped') || clickedCard.classList.contains('matched')) return;

                flipCard(clickedCard);

                if (flippedCards.length === 2) {
                    checkForMatch();
                }
            }

            function flipCard(card) {
                sounds.flip.triggerAttackRelease("C5", "16n", Tone.now());
                card.classList.add('flipped');
                flippedCards.push(card);
            }

            function checkForMatch() {
                gameLocked = true;
                moves++;
                updateMoves();

                const [card1, card2] = flippedCards;

                if (card1.dataset.name === card2.dataset.name) {
                    // Match
                    sounds.match.triggerAttackRelease("G5", "8n", Tone.now() + 0.1);
                    card1.classList.add('matched');
                    card2.classList.add('matched');
                    matchedPairs++;
                    flippedCards = [];
                    gameLocked = false;
                    
                    if (matchedPairs === TOTAL_PAIRS) {
                        endGame();
                    }
                } else {
                    // Mismatch
                    card1.classList.add('mismatch');
                    card2.classList.add('mismatch');
                    setTimeout(() => {
                        card1.classList.remove('flipped', 'mismatch');
                        card2.classList.remove('flipped', 'mismatch');
                        flippedCards = [];
                        gameLocked = false;
                    }, 800);
                }
            }
            
            function endGame() {
                gameLocked = true;
                clearInterval(timerInterval);
                sounds.win.triggerAttackRelease("C4", "1n", Tone.now());
                sounds.win.triggerAttackRelease("E4", "1n", Tone.now() + 0.2);
                sounds.win.triggerAttackRelease("G4", "1n", Tone.now() + 0.4);

                document.getElementById('final-moves').textContent = moves;
                document.getElementById('final-time').textContent = timerElement.textContent;

                setTimeout(() => {
                    winModal.classList.remove('invisible', 'opacity-0');
                    winModal.querySelector('.modal-content').classList.remove('scale-95');
                }, 500);
            }

            function updateMoves() {
                movesElement.textContent = moves;
            }
            
            function startTimer() {
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    seconds++;
                    const min = String(Math.floor(seconds / 60)).padStart(2, '0');
                    const sec = String(seconds % 60).padStart(2, '0');
                    timerElement.textContent = `${min}:${sec}`;
                }, 1000);
            }

            // --- Event Listeners ---
            gameBoard.addEventListener('click', (e) => {
                const card = e.target.closest('.card');
                if (card) {
                    handleCardClick({ currentTarget: card });
                }
            });
            startButton.addEventListener('click', startGame);
            playAgainButton.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>
